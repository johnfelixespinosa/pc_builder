<nav class="navbar justify-content-end">
    <h3 class="text-xs-center m-y-3 text-muted"><%= @user.username.capitalize %> Parts List's</h3>    
    <%= link_to "Add New", new_user_parts_list_path(current_user), class: 'btn btn-success ml-auto mr-2 font-weight-bold' %>
</nav>

<% @parts_lists.each_slice(3) do |parts_lists| %>       
  <div class="card-deck ">
    <% parts_lists.each do |pl| %>

      <% if current_user == pl.user %>

        <div class="card">
          <div class="card-header text-center">
            <h4 class="text-muted"><%= pl.name %></h4> 
            <div class="btn-group">                  
              <%= link_to "Edit", edit_user_parts_list_path(current_user, pl), class: 'btn btn-primary active' %>
              <%= link_to "Delete", pl, method: :delete, data: { confirm: "Are you sure you want to delete?" }, class: 'btn btn-secondary btn-danger' %>                  
            </div>
          </div>
          <div class="card-body">
            <ul class="list-group">
              <li class="list-group-item">
                <span class="badge badge badge-secondary">CPU</span>
                <label><%= pl.cpu %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Cooler</span>
                <label><%= pl.cpu_cooler %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Motherboard</span>
                <label><%= pl.motherboard %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Storage</span>
                <label><%= pl.storage %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Video Card</span>
                <label><%= pl.video_card %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Case</span>
                <label><%= pl.case %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Power Supply</span>
                <label><%= pl.power_supply %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">OS</span>
                <label><%= pl.operating_system %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Monitor</span>
                <label><%= pl.monitor %></label>
              </li>
            </ul>
          </div>
          <div class="card-footer text-center">
            <small class="text-muted">Last updated <%= pl.created_at.to_date %></small>                
          </div>
        </div>

      <% else %>

        <div class="card">
          <div class="card-header text-center">
            <h4 class="text-muted"><%= pl.name %></h4> 
          </div>
          <div class="card-body">
            <ul class="list-group">
              <li class="list-group-item">
                <span class="badge badge badge-secondary">CPU</span>
                <label><%= pl.cpu %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Cooler</span>
                <label><%= pl.cpu_cooler %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Motherboard</span>
                <label><%= pl.motherboard %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Storage</span>
                <label><%= pl.storage %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Video Card</span>
                <label><%= pl.video_card %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Case</span>
                <label><%= pl.case %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Power Supply</span>
                <label><%= pl.power_supply %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">OS</span>
                <label><%= pl.operating_system %></label>
              </li>
              <li class="list-group-item">
                <span class="badge badge badge-secondary">Monitor</span>
                <label><%= pl.monitor %></label>
              </li>
            </ul>
          </div>
          <div class="card-footer text-center">
            <small class="text-muted">Last updated <%= pl.created_at.to_date %></small>                
          </div>
        </div>
      <% end %>     
    <% end %>
  </div>
<% end %>